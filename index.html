<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Brainsimulation: BrainSimulation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Brainsimulation
   </div>
   <div id="projectbrief">Simulation of the human brain.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">BrainSimulation </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Simulation of the human brain.</p>
<h2>How to build</h2>
<p><b>Linux</b></p><ol type="1">
<li>Clone the repository.</li>
<li><p class="startli">From the working directory root run</p>
<p class="startli"><code>$ make</code></p>
</li>
<li>The makefile supports the <code>install</code> target (optional).</li>
</ol>
<p><b>Windows</b></p><ol type="1">
<li>Clone the repository.</li>
<li>Open *win32.sln* in Visual Studio.</li>
<li>Build using Visual Studio</li>
</ol>
<h3>Customizing the build</h3>
<p>You can customize the build by passing Preprocessor options. Using make, pass them to the <em>DFLAGS</em> variable. Use GCC's regular -D switch.</p>
<p><b>Example</b>, sets the <em>THREADFACTOR</em> directive to <em>0.5</em> using GCCs -D switch:</p>
<p><code>$ make DFLAGS="-DTHREADFACTOR=0.5"</code></p>
<p>Available switches:</p><ul>
<li><code>THREADFACTOR</code>: Factor to multiple the logical corecount with in order to determine the number of threads. May be a floating point number (<em>0.5</em> is a common option). Default = <b>1</b>.</li>
<li><code>MULTITHREADING</code>: Set to 0 to turn multithreading off and only use a single thread. Default = <b>1</b>.</li>
<li><code>DAMPING</code>: The amount of physical damping applied at each simulation step for each energy level, i.e., the ratio of energy loss per simulation tick. The energy level is damped using the function: enery_level = energy_level / (1 + DAMPING). Default = <b>0.001</b>.</li>
<li><code>D_NEIGHBORFACTOR</code>: How much the direct neighbors influence the energy state of any node. Usually a number in (0,1], however numbers &gt; 1 are possible. Default = <b>1</b>.</li>
<li><code>ID_NEIGHBORFACTOR</code>: How much the indirect neighbors influence the energy state of any node. Usually a number in (0,1], however numbers &gt; 1 are possible. Default = <b>1</b>.</li>
</ul>
<h2>How to run</h2>
<ol type="1">
<li>Create a <code>./testoutput</code> directory in the directory from which you execute the brainsimulation. Results will be written to this directory.</li>
<li>(Optional) Configure inputs bitmap image files</li>
<li>Execute the simulation in one of the following ways:<ul>
<li><p class="startli">Linux, running from the build directory:</p>
<p class="startli"><code>$ ./brainsimulation -x X_NODES -y Y_NODES --ticks SIMULATION_TICKS [OPTIONAL PARAMETERS]</code></p>
</li>
<li><p class="startli">Linux, after compiling using <em>make install</em>:</p>
<p class="startli"><code>$ brainsimulation -x X_NODES -y Y_NODES --ticks SIMULATION_TICKS [OPTIONAL PARAMETERS]</code></p>
</li>
<li><p class="startli">Windows:</p>
<p class="startli"><code>&gt; .\brainsimulation -x X_NODES -y Y_NODES --ticks SIMULATION_TICKS [OPTIONAL PARAMETERS]</code></p>
</li>
</ul>
</li>
</ol>
<h3>Command Line Parameters</h3>
<p>Command line parameters are also shown when starting the brainsimulation with <code>brainsimulation --help</code>.</p>
<p>Generally, run with: <code>brainsimulation -x X_NODES -y Y_NODES --ticks SIMULATION_TICKS [OPTIONAL PARAMETERS]</code></p>
<p>Mandatory parameters:</p><ul>
<li><code>-x X_NODES</code>: Size of the simulated node grid on the X axis. Single integer parameter.</li>
<li><code>-y Y_NODES</code>: Size of the simulated node grid on the Y axis. Single integer parameter.</li>
<li><code>--ticks SIMULATION_TICKS</code>: Number of time ticks to simulate. Single integer parameter.</li>
</ul>
<p>Recommended parameters (technically optional, but doesn't really make sense not to use them):</p><ul>
<li><code>--xobs OBS_X_INDICES</code>: X indices of the observed nodes. One or multiple integer parameters.</li>
<li><code>--yobs OBS_Y_INDICES</code>: Y indices of the observed nodes. One or multiple integer parameters. Must have the same number of parameters as <code>--xobs</code>.</li>
</ul>
<p>Optional parameters:</p><ul>
<li><code>--startlevels STARTING_ENERGY_LEVELS</code>: Initial energy levels of nodes with starting energy. One or multiple floating point parameters.</li>
<li><code>--startx STARTING_ENERGY_X_INDICES</code>: X indices of nodes with starting energy. One or multiple integer parameters. Must have the same number of parameters as <code>--startlevels</code>.</li>
<li><code>--starty STARTING_ENERGY_Y_INDICES</code>: Y indices of nodes with starting energy. One or multiple integer parameters. Must have the same number of parameters as <code>--startlevels</code>.</li>
<li><code>--freqs FREQUENCIES</code> Frequencies of nodes generating energy using sin-frequencies. One or multiple integer parameters. Can not be used together with <code>--freqbitmaps</code> and its associated flags.</li>
<li><code>--freqx FREQUENCY_NODES_X_INDICES</code>: X indices of nodes generating energy using frequencies. One or multiple integer parameters. Must have the same number of parameters as <code>--freqs</code>.</li>
<li><code>--freqy STARTING_ENERGY_Y_INDICES</code>: Y indices of nodes generating energy using frequencies. One or multiple integer parameters. Must have the same number of parameters as <code>--freqs</code>.</li>
<li><code>--freqbitmaps FILENAMES</code>: File paths of bitmap images to be used for specifying sin-frequencies. Bitmaps must be uncompressed 24-bit bitmaps (MS-Paint default). When using multiple bitmaps, they must all have the same dimensions. Can not be used together with <code>--freqs</code> and its associated flags. One or multiple parameters.</li>
<li><code>--minbitmapfreq MIN_FREQUENCY</code>: The minimum frequency to generate, mapped to the minimum non-0 bitmap color (1). Single integer parameter.</li>
<li><code>--maxbitmapfreq MAX_FREQUENCY</code>: The maximum frequency to generate, mapped to the maximum bitmap color (765). Single integer parameter.</li>
<li><code>--bitmapduration DURATION_TICKS</code>: The generation duration (in ticks) for a bitmap's signal (analogous to a frame's duration in a movie). Single integer parameter.</li>
</ul>
<p><b>Example:</b></p>
<p><code>brainsimulation -x 200 -y 200 --ticks 5000 --xobs 50 51 --yobs 50 51 --startlevels 10 11 --startx 10 11 --starty 10 11 --freqs 3 5 --freqx 25 26 --freqy 25 26</code></p>
<p><b>Example using bitmaps:</b></p>
<p><code>brainsimulation -x 200 -y 200 --ticks 3000 --xobs 50 51 --yobs 50 51 --freqbitmaps testinput/input0.bmp testinput/input1.bmp testinput/input2.bmp --minbitmapfreq 10 --maxbitmapfreq 40 --bitmapduration 1000</code></p>
<h3>Using Bitmap Images as Inputs</h3>
<p>You can choose to use bitmap images as inputs and pass them using the <code>--freqbitmaps</code> paramter. Doing this will generate input timeseries for all non-zero (non-black) pixels from the specified 24-bit bitmap images. Each pixel will be directly mapped to the corresponding node in the simulation (using its x and y coordinates, with 0,0 at the top left). Bitmaps must have the same dimensions and must be encoded using uncompressed, 24-bit bitmap files, which is the MS_Paint default. Bitmap color values are summed (R+G+B) and translated to frequencies. The minimum non-0 color (1) is mapped to the value provided using <code>--minbitmapfreq</code> and the maximum color (765) is mapped to the value provided using <code>--maxbitmapfreq</code>. Other frequencies are determined using linear interpolation. A black (value 0) pixel will always be interpreted as a pixel that is currently not generating a signal.</p>
<p>You can specify multiple images. Each image is shown for the duration specified using <code>--bitmapduration</code> (in ticks). Once its duration is up, the next image is used for generation (analogous to a frame in a movie). No further signals are generated once the last image has finished generating.</p>
<h2>Developing</h2>
<p>Check out our code documentation at <a href="https://descartesresearch.github.io/BrainSimulation/">https://descartesresearch.github.io/BrainSimulation/</a> </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
